Contexto de los arhcivos originales a migrar:
**********************************************************************************************************************************************************************
He analizado a profundidad tus archivos (generar_datos_final.py, motor_estrategico_total.py, app.py, app_war_room.py).

Lo que tienes actualmente es un Motor de Inteligencia Territorial basado en Estad칤stica Descriptiva y Heur칤stica Ponderada. No usa "IA" compleja (como redes neuronales) todav칤a, sino reglas de negocio muy s칩lidas basadas en metodolog칤as de la ONU (Sendai, MCR2030) y CONEVAL.

Aqu칤 tienes la Abstracci칩n del Proceso para tu Laboratorio de Datos, dividido en 5 pasos memorables para que sepas qu칠 funciones programar en tu backend.

游빍 El Proceso "Data Lab": De Datos Crudos a Estrategia
Este es el flujo que implementaremos en la arquitectura nueva, basado en lo que hacen tus scripts actuales.

Paso 1: La Higiene (Ingesta y Estandarizaci칩n)
Objetivo: Que los datos entren limpios al sistema, sin importar si vienen de un Excel sucio o un CSV de gobierno.

Funciones detectadas en tu c칩digo:

Detecci칩n de Encoding: Tus scripts intentan leer en latin-1 y si fallan, usan utf-8.

Normalizaci칩n de Headers: Conviertes todo a MAY칔SCULAS, quitas espacios vac칤os (strip) y eliminas acentos/caracteres raros (ej. A칌O -> ANO).

Saneamiento de IDs: Construyes la llave primaria CVEGEO concatenando columnas (Entidad + Mun + Loc + Ageb + Manzana). Esto es vital para los mapas.

Imputaci칩n de Ceros: Rellenas valores nulos (NaN) con 0 para que las sumas no fallen.

Paso 2: La Proyecci칩n (Ingenier칤a de Variables)
Objetivo: Crear datos que no existen en el archivo original pero que son necesarios para la realidad actual.

Funciones detectadas:

Proyecci칩n Temporal: Multiplicas la poblaci칩n del Censo 2020 por un FACTOR_CRECIMIENTO (ej. 1.048) para estimar la poblaci칩n 2025/2026.

Clasificaci칩n Binaria: Etiquetas zonas como Urbano o Rural bas치ndote en cat치logos de claves.

Paso 3: La Alquimia (C치lculo de Indicadores)
Objetivo: Convertir columnas "aburridas" (ej. "VPH_PISOTI") en 칈ndices de Carencia. Aqu칤 es donde vive tu "Receta Secreta".

T칠cnicas Estad칤sticas usadas:

Normalizaci칩n (Ratios): Conviertes absolutos a relativos.

Ejemplo: Rezago Educativo = (Poblaci칩n Analfabeta + Sin Secundaria) / Poblaci칩n Total.

칈ndices Compuestos (Promedios): Creas un "칈ndice de Pobreza" promediando varias carencias (Agua + Drenaje + Luz + Piso).

Ponderaci칩n Heur칤stica: Das m치s peso a ciertas variables seg칰n el criterio del experto.

Ejemplo: En tu c칩digo, VPH_1CUARTO (hacinamiento) se multiplica por 1.5 (pesa m치s que el piso de tierra).

Scaling (Min-Max/Clipping): Fuerzas a que los resultados siempre est칠n entre 0 y 1 (clip(0, 1)) para poder hacer sem치foros porcentuales.

Indices Multidimensionales (Meta-Scores): El SCORE_PRIORIDAD es el promedio de tres grandes mundos: (Indice Pobreza + Indice Riesgo Social + Indice Sendai) / 3.

Paso 4: El Tejido Espacial (Cruce Geogr치fico)
Objetivo: Unir el mundo social con el mundo pol칤tico/f칤sico.

Funciones detectadas:

Merge Relacional: Unes los datos estad칤sticos (DataFrame) con los mapas (GeoDataFrame) usando la llave CVEGEO.

Spatial Join (Cruce Espacial): Esta es la funci칩n m치s potente en tu app_war_room.py. Determinas "Qu칠 puntos (localidades) caen dentro de qu칠 pol칤gono (Secci칩n Electoral)".

L칩gica: gpd.sjoin(puntos_sociales, poligonos_politicos, op='within').

Resultado: Ahora sabes que la "Comunidad X" con alta pobreza pertenece a la "Secci칩n Y" que gan칩 el Partido Z.

Paso 5: La Inteligencia Visual (Dashboard)
Objetivo: Mostrar los resultados para tomar decisiones.

Funcionalidades a migrar a la nueva app:

Sem치foros Din치micos: Asignar colores (Rojo, Naranja, Verde) seg칰n cuartiles estad칤sticos (ej. "Top 25% m치s cr칤tico").

Priorizaci칩n (Ranking): Ordenar la tabla de mayor a menor impacto y mostrar el "Top 50".

Mapas de Calor (Choropleth): Pintar pol칤gonos seg칰n la intensidad de una variable.

**********************************************************************************************************************************************************************